function [F, Fq, G, M, Q] = macierze(s, m, I, q, dq)
    F = [q(1) - s(1)*cos(q(3))/2; q(2) - s(1)*sin(q(3))/2; q(1) + s(1)*cos(q(3))/2 - (q(4) - s(2)*cos(q(6))/2); q(2) + s(1)*sin(q(3))/2 - (q(5) - s(2)*sin(q(6))/2)];
    
    Fq = zeros(4, 6);
    Fq(1:2, 1:2) = eye(2);
    Fq(3:4, 1:2) = eye(2);
    Fq(1, 3) = s(1)*sin(q(3))/2;
    Fq(2, 3) = -s(1)*cos(q(3))/2;
    Fq(3, 3) = -s(1)*sin(q(3))/2;
    Fq(4, 3) = s(1)*cos(q(3))/2;
    Fq(3:4, 4:5) = -eye(2);
    Fq(3, 6) = -s(2)*sin(q(6))/2;
    Fq(4, 6) = s(2)*cos(q(6))/2;
    
    G = [-s(1)/2*cos(q(3))*dq(3)^2; -s(1)/2*sin(q(3))*dq(3)^2; s(1)/2*cos(q(3))*dq(3)^2 + s(2)/2*cos(q(6))*dq(6)^2; s(1)/2*sin(q(3))*dq(3)^2 + s(2)/2*sin(q(6))*dq(6)^2];
    
    M = zeros(6);
    M(1, 1) = m(1);
    M(2, 2) = m(1);
    M(3, 3) = I(1);
    M(4, 4) = m(2);
    M(5, 5) = m(2);
    M(6, 6) = I(2);
    
    g = [0; -9.81];
    Q = [m(1)*g; 0; m(2)*g; 0];
end
